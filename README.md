# BookService

BookService - сервис, позволяющий получить полную информацию о писателе.

# Инструкция

1. Клонируйте репозиторий: `git clone https://github.com/LunexCoding/ItMegastar_TestTask.git`
2. Перейдите в директорию репозитория: `cd ItMegastar_TestTask`
3. Установите зависимости: `pip install -r requirements.txt`
4. Обновите подмодуль: `git submodule update --init`

Сервис запускается командой из консоли с возможностью передачи некоторых параметров командной строки. Синтаксис указан ниже.

Для получения информации по конкретному автору нужно перейти по адресу: http://127.0.0.1:8000/{id}, где вместо `{id}` указать `ID` писателя.

При указании `ID` несуществующего писателя произойдет ошибка с кодом `404 Not Found`, на страницу будет выведен JSON-объект:
```json
{"ErrorMessage": "Writer not found"}
```

При указании `ID` существующего писателя на страницу будет выведен JSON-объект:
```json
{
    "id": writerID, 
    "name": writerName, 
    "books": [
        {
            "id": bookID, 
            "name": bookName
        }, 
        ...
    ]
}
```

Пример:
```json
{
    "id": 2, 
    "name": "writer_2", 
    "books": [
        {
            "id": 5, 
            "name": "book 1 from author 2"
        }, 
        {
            "id": 6, 
            "name": "book 2 from author 2"
        }
    ]
}
```

# Синтаксис

`python main.py [init] [drop]`

Параметры `init` и `drop` являются опциональными.

# Параметры

|  Параметр	  | Описание 	                                      |
|:-----------:|-------------------------------------------------|
|    init	    | Инициализация базы данных с генерацией данных.	 |
|  	   drop   | Удаление таблиц с данными из базы данных.	      |

# Комментарии

* При запуске без указания параметров в случае отсутствия таблиц в базе данных или данных в таблицах, при попытке получения данных о писателе произойдет ошибка.
* При указании параметра `init` в случае отсутствия необходимых таблиц в базе данных, произойдет инициализация этих таблиц и заполнение их данными.<br>
В случае присутствия таблиц в базе данных,а также данных в самих таблицах генерация данных не будет выполнена.
* При указании параметра `drop` без параметра `init` в случае отсутствия данных, при попытке получения данных о писателе произойдет ошибка.

# Дополнительная информация

На выполнение задания было затрачено `8 часов`.